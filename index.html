<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel="icon" href="https://i.postimg.cc/J4QX3W0Y/logo.png" type="image/png">
    
    <!-- SEO Meta Tags -->
    <title data-lang-ar="Ehab GM | مصمم جرافيك وخبير تسويق رقمي في مصر" data-lang-en="Ehab GM | Graphic Designer & Digital Marketing Expert in Egypt">Ehab GM | مصمم جرافيك وخبير تسويق رقمي في مصر</title>
    <meta name="description" content="Ehab GM، مصمم جرافيك محترف وخبير تسويق إلكتروني في مصر. نقدم خدمات تصميم الشعارات، إدارة الإعلانات الممولة، وتحسين محركات البحث (SEO) باستخدام المساعد الذكي EMIA.">
    <meta name="keywords" content="مصمم جرافيك, EMIA, Gemini API, OpenAI, تسويق بالذكاء الاصطناعي, مصمم جرافيك في مصر, مصمم جرافيك محترف, تصميم شعارات, اعلان ممول انستقرام, تسويق الكتروني, تحسين محركات البحث, SEO, إدارة الحملات الإعلانية, تصميم بوستات سوشيال ميديا, هوية بصرية, تسويق جوجل, إنشاء متجر إلكتروني, القاهرة, مصر">
    <meta name="author" content="Ehab GM Online Services">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Ehab GM | شريكك للنجاح الرقمي في مصر">
    <meta property="og:description" content="حلول متكاملة في التصميم الجرافيكي والتسويق الرقمي مدعومة بأحدث تقنيات الذكاء الاصطناعي.">
    <meta property="og:url" content="https://ehabgm.online/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://i.postimg.cc/J4QX3W0Y/logo.png">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Cairo for Arabic -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Cairo', sans-serif; overflow-x: hidden; }

        /* Floating Buttons Styles */
        .floating-btn { position: fixed; z-index: 99; border: none; outline: none; color: white; cursor: pointer; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); transition: all 0.3s ease; }
        .floating-btn:hover { transform: scale(1.1); box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2); }
        
        #scrollToTopBtn { display: none; bottom: 90px; right: 20px; background-color: #4F46E5; width: 56px; height: 56px; font-size: 20px; }
        #whatsapp-button { bottom: 20px; background-color: #25D366; width: 56px; height: 56px; font-size: 24px; }
        html[dir="rtl"] #whatsapp-button { left: 20px; right: auto; }
        html[dir="ltr"] #whatsapp-button { right: 20px; left: auto; }

        #chat-toggle-btn { bottom: 20px; background-color: #8B5CF6; width: 64px; height: 64px; font-size: 28px; }
        html[dir="rtl"] #chat-toggle-btn { right: 20px; left: auto; }
        html[dir="ltr"] #chat-toggle-btn { left: 20px; right: auto; }

        /* General UI Styles */
        .copy-btn { transition: background-color 0.3s ease; }
        #payment-details { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .variation-btn, #listen-btn { opacity: 1; transition: opacity 0.3s ease; }
        .variation-btn:disabled, #listen-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        /* Chatbot Styles */
        #chatbot-window { transition: transform 0.3s ease-out, opacity 0.3s ease-out; }
        #chatbot-window.hidden { transform: scale(0.95) translateY(10px); opacity: 0; pointer-events: none; }
        #chat-messages-popup { scroll-behavior: smooth; }
        .message { max-width: 80%; padding: 0.75rem 1rem; border-radius: 18px; line-height: 1.5; word-wrap: break-word; }
        .user-message { background-color: #4F46E5; color: white; border-bottom-right-radius: 4px; align-self: flex-end; }
        .bot-message { background-color: #ffffff; color: #1f2937; border: 1px solid #e5e7eb; border-bottom-left-radius: 4px; align-self: flex-start; }
        .typing-indicator { align-self: flex-start; display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; }
        .typing-indicator span { height: 8px; width: 8px; background-color: #9ca3af; border-radius: 50%; display: inline-block; animation: bounce 1.4s infinite ease-in-out both; }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }

        /* Animation Styles */
        .animated-section {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animated-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- =================================================================== -->
    <!-- Header Section -->
    <!-- =================================================================== -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#hero" class="flex items-center space-x-2 rtl:space-x-reverse">
                <img src="https://i.postimg.cc/J4QX3W0Y/logo.png" alt="Ehab GM Logo" class="rounded-full w-12 h-12">
                <span class="text-2xl font-bold text-indigo-700">Ehab GM</span>
            </a>
            <div class="hidden md:flex items-center space-x-1 rtl:space-x-reverse text-lg">
                <a href="#hero" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="الرئيسية" data-lang-en="Home">الرئيسية</a>
                <a href="#services" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="خدماتنا" data-lang-en="Services">خدماتنا</a>
                <a href="#emia-suggestions" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="مساعد EMIA" data-lang-en="EMIA Assistant">مساعد EMIA</a>
                <a href="#seo-helper-section" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="مساعد SEO" data-lang-en="SEO Helper">مساعد SEO</a>
                <a href="#ad-headline-generator" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="عناوين الإعلانات" data-lang-en="Ad Headlines">عناوين الإعلانات</a>
                <a href="#payment" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="طرق الدفع" data-lang-en="Payment">طرق الدفع</a>
                <a href="#contact" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md transition" data-lang-ar="اتصل بنا" data-lang-en="Contact Us">اتصل بنا</a>
            </div>
            <div class="flex items-center space-x-4 rtl:space-x-reverse">
                 <button id="lang-switcher" class="text-indigo-600 font-semibold focus:outline-none border-2 border-indigo-500 rounded-full w-10 h-10 flex items-center justify-center hover:bg-indigo-50 transition">EN</button>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-600 focus:outline-none">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-white py-2 shadow-lg">
            <a href="#hero" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="الرئيسية" data-lang-en="Home">الرئيسية</a>
            <a href="#services" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="خدماتنا" data-lang-en="Services">خدماتنا</a>
            <a href="#emia-suggestions" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="مساعد EMIA" data-lang-en="EMIA Assistant">مساعد EMIA</a>
            <a href="#seo-helper-section" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="مساعد SEO" data-lang-en="SEO Helper">مساعد SEO</a>
            <a href="#ad-headline-generator" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="عناوين الإعلانات" data-lang-en="Ad Headlines">عناوين الإعلانات</a>
            <a href="#payment" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="طرق الدفع" data-lang-en="Payment">طرق الدفع</a>
            <a href="#contact" class="block px-4 py-2 text-gray-800 hover:bg-indigo-50" data-lang-ar="اتصل بنا" data-lang-en="Contact Us">اتصل بنا</a>
        </div>
    </header>

    <!-- =================================================================== -->
    <!-- Hero Section -->
    <!-- =================================================================== -->
    <section id="hero" class="bg-gradient-to-r from-indigo-700 to-purple-600 text-white py-20 md:py-32 flex items-center min-h-screen">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between">
            <div class="md:w-1/2 text-center md:text-right mb-10 md:mb-0">
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6" data-lang-ar='مصمم جرافيك وخبير <span class="text-yellow-300">تسويق رقمي</span> في مصر' data-lang-en='Expert <span class="text-yellow-300">Graphic Designer</span> & Digital Marketer in Egypt'>
                    مصمم جرافيك وخبير <span class="text-yellow-300">تسويق رقمي</span> في مصر
                </h1>
                <p class="text-lg md:text-xl mb-8 opacity-90" data-lang-ar="نقدم حلولاً إبداعية في تصميم الجرافيك وإدارة الحملات الإعلانية وتحسين محركات البحث (SEO) لتحقيق أفضل ظهور لعلامتك التجارية على الإنترنت." data-lang-en="Creative solutions in graphic design, ad campaign management, and SEO to achieve the best online presence for your brand.">
                    نقدم حلولاً إبداعية في تصميم الجرافيك وإدارة الحملات الإعلانية وتحسين محركات البحث (SEO) لتحقيق أفضل ظهور لعلامتك التجارية على الإنترنت.
                </p>
                <div class="flex flex-col sm:flex-row justify-center md:justify-start space-y-4 sm:space-y-0 sm:space-x-4 rtl:space-x-reverse">
                    <a href="#services" class="bg-white text-indigo-700 hover:bg-gray-100 font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105" data-lang-ar="اكتشف خدماتنا" data-lang-en="Explore Services">اكتشف خدماتنا</a>
                    <a href="#contact" class="bg-transparent border-2 border-white text-white hover:bg-white hover:text-indigo-700 font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105" data-lang-ar="اطلب تصميم الآن" data-lang-en="Request a Design">اطلب تصميم الآن</a>
                </div>
            </div>
            <div class="md:w-1/2 flex justify-center">
                <img src="https://i.postimg.cc/tRZ2dH6d/1-19.png" alt="مصمم جرافيك محترف يقوم بتصميم هوية بصرية" class="rounded-lg shadow-2xl transform hover:scale-105 transition duration-500">
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- Services Section -->
    <!-- =================================================================== -->
    <section id="services" class="py-16 md:py-24 bg-white animated-section">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-900" data-lang-ar="خدماتنا الرقمية المتكاملة" data-lang-en="Our Integrated Digital Services">خدماتنا الرقمية المتكاملة</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                 <div class="bg-gray-50 rounded-lg shadow-lg p-8 text-center transform hover:-translate-y-2 transition duration-300 border-b-4 border-indigo-600">
                    <div class="text-indigo-600 mb-4"><i class="fas fa-palette fa-4x"></i></div>
                    <h3 class="text-2xl font-semibold mb-4" data-lang-ar="تصميم جرافيك احترافي" data-lang-en="Professional Graphic Design">تصميم جرافيك احترافي</h3>
                    <p class="text-gray-600" data-lang-ar="تصميم شعارات وهوية بصرية، بوستات سوشيال ميديا، وتصميمات PNG عالية الجودة تعكس علامتك التجارية." data-lang-en="Logo design, visual identity, social media posts, and high-quality PNG designs that reflect your brand.">تصميم شعارات وهوية بصرية، بوستات سوشيال ميديا، وتصميمات PNG عالية الجودة تعكس علامتك التجارية.</p>
                </div>
                <div class="bg-gray-50 rounded-lg shadow-lg p-8 text-center transform hover:-translate-y-2 transition duration-300 border-b-4 border-purple-600">
                    <div class="text-purple-600 mb-4"><i class="fas fa-bullhorn fa-4x"></i></div>
                    <h3 class="text-2xl font-semibold mb-4" data-lang-ar="إدارة الإعلانات الممولة" data-lang-en="Paid Ads Management">إدارة الإعلانات الممولة</h3>
                    <p class="text-gray-600" data-lang-ar="إدارة حملات إعلانية ناجحة على فيسبوك وإنستجرام وجوجل، مع استهداف دقيق للجمهور لزيادة عائد الاستثمار." data-lang-en="Managing successful ad campaigns on Facebook, Instagram, and Google with precise audience targeting to increase ROI.">إدارة حملات إعلانية ناجحة على فيسبوك وإنستجرام وجوجل، مع استهداف دقيق للجمهور لزيادة عائد الاستثمار.</p>
                </div>
                <div class="bg-gray-50 rounded-lg shadow-lg p-8 text-center transform hover:-translate-y-2 transition duration-300 border-b-4 border-teal-600">
                    <div class="text-teal-600 mb-4"><i class="fas fa-search-dollar fa-4x"></i></div>
                    <h3 class="text-2xl font-semibold mb-4" data-lang-ar="تحسين محركات البحث (SEO)" data-lang-en="Search Engine Optimization (SEO)">تحسين محركات البحث (SEO)</h3>
                    <p class="text-gray-600" data-lang-ar="استراتيجيات تسويق سيو متقدمة لمساعدة موقعك ومتجرك الإلكتروني على تصدر نتائج البحث في جوجل." data-lang-en="Advanced SEO marketing strategies to help your website and e-store rank higher in Google search results.">استراتيجيات تسويق سيو متقدمة لمساعدة موقعك ومتجرك الإلكتروني على تصدر نتائج البحث في جوجل.</p>
                </div>
                <div class="bg-gray-50 rounded-lg shadow-lg p-8 text-center transform hover:-translate-y-2 transition duration-300 border-b-4 border-orange-600">
                    <div class="text-orange-600 mb-4"><i class="fas fa-store fa-4x"></i></div>
                    <h3 class="text-2xl font-semibold mb-4" data-lang-ar="تصميم المتاجر الإلكترونية" data-lang-en="E-commerce Design">تصميم المتاجر الإلكترونية</h3>
                    <p class="text-gray-600" data-lang-ar="إنشاء وتصميم متجر إلكتروني احترافي مع بوابات دفع آمنة وتجربة مستخدم مميزة لزيادة مبيعاتك." data-lang-en="Creating and designing a professional e-store with secure payment gateways and a great user experience to increase your sales.">إنشاء وتصميم متجر إلكتروني احترافي مع بوابات دفع آمنة وتجربة مستخدم مميزة لزيادة مبيعاتك.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- EMIA Suggestions Section -->
    <!-- =================================================================== -->
    <section id="emia-suggestions" class="py-16 md:py-24 bg-gray-100 animated-section">
        <div class="container mx-auto px-4">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl font-bold mb-4 text-gray-900" data-lang-ar="✍️ محتوى تسويقي من مساعدك EMIA" data-lang-en="✍️ Marketing Content by EMIA">✍️ محتوى تسويقي من مساعدك EMIA</h2>
                <p class="text-lg text-gray-600 mb-8" data-lang-ar="اكتب نوع مشروعك، ودع مساعدك الذكي EMIA يكتب لك منشور إعلاني احترافي جاهز للنشر على السوشيال ميديا!" data-lang-en="Describe your project, and let your smart assistant EMIA write a professional social media post for you!">اكتب نوع مشروعك، ودع مساعدك الذكي EMIA يكتب لك منشور إعلاني احترافي جاهز للنشر على السوشيال ميديا!</p>
                <div class="bg-white p-8 rounded-lg shadow-lg">
                    <div class="space-y-4">
                        <div>
                            <label for="business-type" class="hidden">Business Type</label>
                            <input type="text" id="business-type" class="w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-lg text-right" placeholder-ar="مثال: كافيه جديد في القاهرة" placeholder-en="e.g., A new coffee shop in Cairo">
                        </div>
                        <button id="generate-ideas-btn" class="w-full inline-flex items-center justify-center bg-purple-600 text-white hover:bg-purple-700 font-bold py-3 px-10 rounded-full shadow-lg transition transform hover:scale-105">
                            <span data-lang-ar="💡 اكتب لي منشور" data-lang-en="💡 Write a Post">💡 اكتب لي منشور</span>
                        </button>
                    </div>
                    <div id="loading-spinner" class="hidden mt-6">
                        <div class="flex justify-center items-center">
                            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
                        </div>
                    </div>
                    <div id="ideas-result" class="mt-8 text-right bg-gray-50 p-6 rounded-md min-h-[100px] whitespace-pre-wrap">
                        <p id="ideas-placeholder" class="text-gray-400" data-lang-ar="سيظهر المنشور الإعلاني هنا..." data-lang-en="The ad post will appear here...">سيظهر المنشور الإعلاني هنا...</p>
                    </div>
                    <div id="variation-buttons" class="hidden mt-4 flex flex-wrap justify-center items-center gap-2">
                         <button data-style="professional" class="variation-btn bg-indigo-500 text-white hover:bg-indigo-600 font-bold py-2 px-4 rounded-full shadow-md transition transform hover:scale-105">
                            <span data-lang-ar="✨ أكثر احترافية" data-lang-en="✨ More Professional">✨ أكثر احترافية</span>
                        </button>
                        <button data-style="casual" class="variation-btn bg-teal-500 text-white hover:bg-teal-600 font-bold py-2 px-4 rounded-full shadow-md transition transform hover:scale-105">
                           <span data-lang-ar="✨ أبسط وأقصر" data-lang-en="✨ Simpler & Shorter">✨ أبسط وأقصر</span>
                        </button>
                        <button id="listen-btn" class="bg-pink-500 text-white hover:bg-pink-600 font-bold py-2 px-4 rounded-full shadow-md transition transform hover:scale-105">
                            <span data-lang-ar="🎙️ استمع للنص" data-lang-en="🎙️ Listen to Post">🎙️ استمع للنص</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- SEO Helper Section -->
    <!-- =================================================================== -->
    <section id="seo-helper-section" class="py-16 md:py-24 bg-white animated-section">
        <div class="container mx-auto px-4">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl font-bold mb-4 text-gray-900" data-lang-ar="🔍 مساعد SEO للكلمات المفتاحية" data-lang-en="🔍 SEO Keyword Helper">🔍 مساعد SEO للكلمات المفتاحية</h2>
                <p class="text-lg text-gray-600 mb-8" data-lang-ar="أدخل فكرة مشروعك أو موقعك، واحصل على قائمة بالكلمات المفتاحية المقترحة لتحسين ظهورك في محركات البحث." data-lang-en="Enter your project or website idea, and get a list of suggested keywords to improve your search engine ranking.">أدخل فكرة مشروعك أو موقعك، واحصل على قائمة بالكلمات المفتاحية المقترحة لتحسين ظهورك في محركات البحث.</p>
                <div class="bg-white p-8 rounded-lg shadow-lg border border-gray-200">
                    <div class="space-y-4">
                        <div>
                            <label for="seo-topic" class="hidden">SEO Topic</label>
                            <input type="text" id="seo-topic" class="w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500 sm:text-lg text-right" placeholder-ar="مثال: متجر لبيع القهوة المختصة" placeholder-en="e.g., Specialty coffee e-commerce store">
                        </div>
                        <button id="generate-keywords-btn" class="w-full inline-flex items-center justify-center bg-teal-600 text-white hover:bg-teal-700 font-bold py-3 px-10 rounded-full shadow-lg transition transform hover:scale-105">
                            <span data-lang-ar="💡 اقترح كلمات مفتاحية" data-lang-en="💡 Suggest Keywords">💡 اقترح كلمات مفتاحية</span>
                        </button>
                    </div>
                    <div id="seo-loading-spinner" class="hidden mt-6">
                        <div class="flex justify-center items-center">
                            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"></div>
                        </div>
                    </div>
                    <div id="keywords-result" class="mt-8 text-right bg-gray-50 p-6 rounded-md min-h-[100px] whitespace-pre-wrap">
                        <p id="keywords-placeholder" class="text-gray-400" data-lang-ar="ستظهر الكلمات المفتاحية هنا..." data-lang-en="Keywords will appear here...">ستظهر الكلمات المفتاحية هنا...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- Ad Headline Generator Section -->
    <!-- =================================================================== -->
    <section id="ad-headline-generator" class="py-16 md:py-24 bg-gray-100 animated-section">
        <div class="container mx-auto px-4">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl font-bold mb-4 text-gray-900" data-lang-ar="📢 مولّد عناوين الإعلانات" data-lang-en="📢 Ad Headline Generator">📢 مولّد عناوين الإعلانات</h2>
                <p class="text-lg text-gray-600 mb-8" data-lang-ar="صف منتجك أو خدمتك، واحصل على 5 عناوين إعلانية جذابة ومقنعة لمنصات فيسبوك وجوجل." data-lang-en="Describe your product or service, and get 5 catchy and persuasive ad headlines for Facebook and Google.">صف منتجك أو خدمتك، واحصل على 5 عناوين إعلانية جذابة ومقنعة لمنصات فيسبوك وجوجل.</p>
                <div class="bg-white p-8 rounded-lg shadow-lg">
                    <div class="space-y-4">
                        <div>
                            <label for="ad-topic" class="hidden">Ad Topic</label>
                            <input type="text" id="ad-topic" class="w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-pink-500 focus:border-pink-500 sm:text-lg text-right" placeholder-ar="مثال: دورة تدريبية في التسويق الرقمي" placeholder-en="e.g., A training course in digital marketing">
                        </div>
                        <button id="generate-headlines-btn" class="w-full inline-flex items-center justify-center bg-pink-600 text-white hover:bg-pink-700 font-bold py-3 px-10 rounded-full shadow-lg transition transform hover:scale-105">
                            <span data-lang-ar="✨ اقترح عناوين" data-lang-en="✨ Suggest Headlines">✨ اقترح عناوين</span>
                        </button>
                    </div>
                    <div id="headline-loading-spinner" class="hidden mt-6">
                        <div class="flex justify-center items-center">
                            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600"></div>
                        </div>
                    </div>
                    <div id="headlines-result" class="mt-8 text-right bg-gray-50 p-6 rounded-md min-h-[100px] whitespace-pre-wrap">
                        <p id="headlines-placeholder" class="text-gray-400" data-lang-ar="ستظهر العناوين المقترحة هنا..." data-lang-en="Suggested headlines will appear here...">ستظهر العناوين المقترحة هنا...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- =================================================================== -->
    <!-- EMIA Platform & AI Integration Section -->
    <!-- =================================================================== -->
    <section id="emia-platform" class="py-16 md:py-24 bg-white animated-section">
        <div class="container mx-auto px-4 flex flex-col md:flex-row-reverse items-center justify-between gap-12">
            <div class="md:w-1/2 flex justify-center">
                 <img src="https://i.postimg.cc/s2H4SnD0/1-21.jpg" alt="منصة EMIA V1.0 - المسوق الذكي" class="rounded-lg shadow-xl transform hover:scale-105 transition duration-500">
            </div>
            <div class="md:w-1/2 text-center md:text-right">
                <h2 class="text-4xl font-bold text-gray-900 mb-2" data-lang-ar="EMIA V1.0 - مدعوم بالذكاء الاصطناعي" data-lang-en="EMIA V1.0 - AI-Powered">EMIA V1.0 - مدعوم بالذكاء الاصطناعي</h2>
                <p class="text-lg text-gray-700 mb-6" data-lang-ar="منصتنا المطورة EMIA تستخدم أحدث نماذج الذكاء الاصطناعي لتقديم تحليلات دقيقة، استهداف متقدم للجمهور، وتوصيات ذكية لزيادة عائد استثمارك. 📈" data-lang-en="Our advanced EMIA platform uses the latest AI models to provide accurate analytics, advanced audience targeting, and smart recommendations to increase your ROI. 📈">منصتنا المطورة EMIA تستخدم أحدث نماذج الذكاء الاصطناعي لتقديم تحليلات دقيقة، استهداف متقدم للجمهور، وتوصيات ذكية لزيادة عائد استثمارك. 📈</p>
                <div class="bg-gray-50 p-4 rounded-lg shadow-md">
                    <p class="font-semibold text-center mb-3" data-lang-ar="مدعوم بتقنيات:" data-lang-en="Powered by:">مدعوم بتقنيات:</p>
                    <div class="flex justify-center items-center space-x-6 rtl:space-x-reverse">
                        <!-- Google Gemini Icon -->
                        <img src="https://www.gstatic.com/images/branding/googlelogo/1x/googlelogo_color_74x24dp.png" alt="Google Gemini" class="h-8">
                        <!-- OpenAI Icon (Fixed) -->
                        <svg class="h-7 text-black" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>OpenAI</title><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-2.9039c-.2117-.5823-.4932-1.1242-.8392-1.6152a5.9847 5.9847 0 0 0-4.4346-3.5442c-.611-.1621-1.2428-.2432-1.874-.2432s-1.263.081-1.874.2432A5.9847 5.9847 0 0 0 7.31 5.3021a5.9847 5.9847 0 0 0-1.3549 4.519c.001.101.001.203.002.304v.002a5.9847 5.9847 0 0 0 .5156 2.9039c.2117.5823.4932 1.1242.8392 1.6152a5.9847 5.9847 0 0 0 4.4346 3.5442c.611.1621 1.2428.2432 1.874.2432s1.263-.081 1.874-.2432a5.9847 5.9847 0 0 0 4.4346-3.5442c.346-.491.6275-1.0329.8392-1.6152a5.9847 5.9847 0 0 0 .5137-2.9029v-.006a6.0132 6.0132 0 0 0 .004-.306zm-12.2326 5.8282a4.4883 4.4883 0 0 1-3.328-2.6565A4.4883 4.4883 0 0 1 5.62 8.0011a4.4883 4.4883 0 0 1 2.6565-1.1013 4.4883 4.4883 0 0 1 4.9912 1.1013 4.4883 4.4883 0 0 1 1.1013 4.9912 4.4883 4.4883 0 0 1-1.1013 2.6565 4.4883 4.4883 0 0 1-4.9912 1.1013 4.4883 4.4883 0 0 1-1.6645-.3335zm3.62-5.2268-1.08 1.8688-1.08 1.8688-1.08-1.8688-1.08-1.8688 1.08-1.8688 1.08-1.8688 1.08 1.8688 1.08 1.8688zM1.7181 9.8211a5.9847 5.9847 0 0 0 .5157 2.9039c.2117.5823.4932 1.1242.8392 1.6152A5.9847 5.9847 0 0 0 7.5076 17.884c.611.1621 1.2428.2432 1.874.2432v-1.5c-.5524 0-1.0942-.06-1.6152-.1824a4.4883 4.4883 0 0 1-3.328-2.6565 4.4883 4.4883 0 0 1-.3335-1.6645v-1.5a4.4883 4.4883 0 0 1 .3335-1.6645 4.4883 4.4883 0 0 1 3.328-2.6565c.521-.1224 1.0628-.1824 1.6152-.1824v-1.5c-.6312 0-1.263.081-1.874.2432A5.9847 5.9847 0 0 0 3.073 5.3021a5.9847 5.9847 0 0 0-1.3549 4.519zm16.9438 0a5.9847 5.9847 0 0 0-.5157-2.9039c-.2117-.5823-.4932-1.1242-.8392-1.6152A5.9847 5.9847 0 0 0 12.8724 1.758c-.611-.1621-1.2428-.2432-1.874-.2432v1.5c.5524 0 1.0942.06 1.6152.1824a4.4883 4.4883 0 0 1 3.328 2.6565 4.4883 4.4883 0 0 1 .3335 1.6645v1.5a4.4883 4.4883 0 0 1-.3335 1.6645 4.4883 4.4883 0 0 1-3.328 2.6565c-.521.1224-1.0628.1824-1.6152.1824v1.5c.6312 0 1.263-.081 1.874-.2432a5.9847 5.9847 0 0 0 4.4346-3.5442c.346-.491.6275-1.0329.8392-1.6152a5.9847 5.9847 0 0 0 .5137-2.9029v-.006a6.0132 6.0132 0 0 0 .004-.306z" fill="currentColor"/></svg>
                    </div>
                    <p class="text-center text-sm text-gray-500 mt-2" data-lang-ar="نستخدم النماذج المجانية والمتقدمة لضمان أفضل خدمة." data-lang-en="We use free and advanced models to ensure the best service.">نستخدم النماذج المجانية والمتقدمة لضمان أفضل خدمة.</p>
                </div>
                 <a href="https://ehabonlineservice.online/" target="_blank" rel="noopener noreferrer" class="mt-8 inline-block bg-indigo-600 text-white hover:bg-indigo-700 font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105" data-lang-ar="اكتشف المنصة الآن" data-lang-en="Discover the Platform Now">اكتشف المنصة الآن</a>
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- Payment Methods Section -->
    <!-- =================================================================== -->
    <section id="payment" class="py-16 md:py-24 bg-gray-100 animated-section">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <button id="payment-toggle" class="w-full bg-white rounded-lg shadow-lg p-6 flex justify-between items-center text-2xl font-bold text-gray-900 transition hover:bg-gray-50">
                    <span data-lang-ar="طرق الدفع المتاحة" data-lang-en="Available Payment Methods">طرق الدفع المتاحة</span>
                    <i id="payment-chevron" class="fas fa-chevron-down transition-transform"></i>
                </button>
                <div id="payment-details" class="mt-4" style="max-height: 0px; overflow: hidden; transition: max-height 0.5s ease-in-out 0s;">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Vodafone Cash -->
                        <div class="bg-white rounded-lg shadow-lg p-6 text-center border-t-4 border-red-600">
                            <i class="fas fa-wallet fa-3x text-red-600 mb-4"></i>
                            <h3 class="text-2xl font-semibold mb-2" data-lang-ar="فودافون كاش" data-lang-en="Vodafone Cash">فودافون كاش</h3>
                            <p class="text-lg font-bold text-gray-800 mb-4" style="direction: ltr;">01022679250</p>
                            <a href="http://vf.eg/vfcash?id=mt&qrId=rMAVF3" target="_blank" rel="noopener noreferrer" class="w-full inline-block bg-red-600 text-white font-bold py-2 px-4 rounded-full hover:bg-red-700 transition" data-lang-ar="دفع سريع" data-lang-en="Quick Pay">دفع سريع</a>
                        </div>

                        <!-- InstaPay -->
                        <div class="bg-white rounded-lg shadow-lg p-6 text-center border-t-4 border-blue-600">
                            <i class="fas fa-bolt fa-3x text-blue-600 mb-4"></i>
                            <h3 class="text-2xl font-semibold mb-2" data-lang-ar="إنستا باي" data-lang-en="InstaPay">إنستا باي</h3>
                            <p class="text-lg font-bold text-gray-800 mb-4" style="direction: ltr;">01022679250</p>
                            <p class="text-sm text-gray-500" data-lang-ar="استخدم رقم الهاتف للتحويل" data-lang-en="Use the phone number to transfer">استخدم رقم الهاتف للتحويل</p>
                        </div>

                        <!-- Crypto -->
                        <div class="bg-white rounded-lg shadow-lg p-6 text-center border-t-4 border-yellow-500">
                            <i class="fab fa-bitcoin fa-3x text-yellow-500 mb-4"></i>
                            <h3 class="text-2xl font-semibold mb-2" data-lang-ar="عملات رقمية" data-lang-en="Cryptocurrency">عملات رقمية</h3>
                            <p class="text-sm text-gray-500 mb-4" data-lang-ar="نقبل Bitcoin و Ethereum" data-lang-en="We accept Bitcoin & Ethereum">نقبل Bitcoin و Ethereum</p>
                            <button onclick="document.getElementById('crypto-modal').style.display='flex'" class="w-full inline-block bg-yellow-500 text-white font-bold py-2 px-4 rounded-full hover:bg-yellow-600 transition" data-lang-ar="عرض العناوين" data-lang-en="Show Addresses">عرض العناوين</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- Contact Section -->
    <!-- =================================================================== -->
    <section id="contact" class="py-16 md:py-24 bg-gradient-to-r from-indigo-700 to-purple-600 text-white">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-6" data-lang-ar="اطلب خدمتك الآن" data-lang-en="Request Your Service Now">اطلب خدمتك الآن</h2>
            <p class="text-lg mb-10 opacity-90" data-lang-ar="هل تبحث عن مصمم جرافيك أو تحتاج لإدارة حملة إعلانية؟ تواصل معنا." data-lang-en="Looking for a graphic designer or need to manage an ad campaign? Contact us.">هل تبحث عن مصمم جرافيك أو تحتاج لإدارة حملة إعلانية؟ تواصل معنا.</p>
            <div class="max-w-3xl mx-auto bg-white text-gray-800 p-8 rounded-lg shadow-xl">
                <form id="contact-form" class="space-y-6">
                    <div>
                        <label for="name" class="block text-lg font-medium text-gray-700 mb-2 text-right" data-lang-ar="الاسم الكامل" data-lang-en="Full Name">الاسم الكامل</label>
                        <input type="text" id="name" name="name" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-lg text-right" placeholder-ar="أدخل اسمك الكامل" placeholder-en="Enter your full name" required>
                    </div>
                    <div>
                        <label for="email" class="block text-lg font-medium text-gray-700 mb-2 text-right" data-lang-ar="البريد الإلكتروني" data-lang-en="Email Address">البريد الإلكتروني</label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-lg text-right" placeholder-ar="أدخل بريدك الإلكتروني" placeholder-en="Enter your email address" required>
                    </div>
                    <div>
                        <label for="message" class="block text-lg font-medium text-gray-700 mb-2 text-right" data-lang-ar="اكتب تفاصيل طلبك (مثال: مطلوب تصميم جرافيك)" data-lang-en="Describe your request (e.g., I need a graphic design)">اكتب تفاصيل طلبك (مثال: مطلوب تصميم جرافيك)</label>
                        <textarea id="message" name="message" rows="5" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-lg text-right" placeholder-ar="اكتب رسالتك هنا..." placeholder-en="Write your message here..." required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="inline-block bg-indigo-600 text-white hover:bg-indigo-700 font-bold py-3 px-10 rounded-full shadow-lg transition transform hover:scale-105" data-lang-ar="إرسال عبر واتساب" data-lang-en="Send via WhatsApp">إرسال عبر واتساب</button>
                    </div>
                </form>
                <div class="mt-4 flex items-center justify-center text-gray-500"><i class="fas fa-lock ml-2 rtl:mr-2 rtl:ml-0"></i><span data-lang-ar="اتصال آمن ومشفر" data-lang-en="Secure & Encrypted Connection">اتصال آمن ومشفر</span></div>
            </div>
        </div>
    </section>

    <!-- =================================================================== -->
    <!-- Footer Section -->
    <!-- =================================================================== -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="text-center md:flex md:justify-between md:items-center">
                <div class="mb-4 md:mb-0"><p data-lang-ar="&copy; 2025 Ehab GM Online Services. جميع الحقوق محفوظة." data-lang-en="&copy; 2025 Ehab GM Online Services. All rights reserved.">&copy; 2025 Ehab GM Online Services. جميع الحقوق محفوظة.</p></div>
                <div class="flex justify-center md:justify-end space-x-4 rtl:space-x-reverse">
                    <a href="https://facebook.com/ehab.gm1" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f fa-lg"></i></a>
                    <a href="https://www.threads.net/@ehab.gm1" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><i class="fab fa-threads fa-lg"></i></a>
                    <a href="https://x.com/ehabgm" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter fa-lg"></i></a>
                    <a href="https://linkedin.com/in/ehabgm-online-services" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><i class="fab fa-linkedin-in fa-lg"></i></a>
                    <a href="https://www.tiktok.com/@ehab.gm1" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><i class="fab fa-tiktok fa-lg"></i></a>
                </div>
            </div>
            <div class="text-center text-gray-500 mt-4 border-t border-gray-700 pt-4"><a href="privacy.html" class="hover:text-white" data-lang-ar="سياسة الخصوصية" data-lang-en="Privacy Policy">سياسة الخصوصية</a></div>
        </div>
    </footer>

    <!-- =================================================================== -->
    <!-- Modals and Floating Buttons -->
    <!-- =================================================================== -->
    <!-- Crypto Modal -->
    <div id="crypto-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full m-4 text-gray-800 relative">
            <button onclick="document.getElementById('crypto-modal').style.display='none'" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800"><i class="fas fa-times fa-2x"></i></button>
            <h3 class="text-2xl font-bold mb-6 text-center" data-lang-ar="عناوين العملات الرقمية" data-lang-en="Crypto Addresses">عناوين العملات الرقمية</h3>
            <div class="space-y-4 text-left">
                <!-- Crypto addresses here -->
            </div>
        </div>
    </div>

    <!-- CHATBOT & FLOATING BUTTONS -->
    <div class="fixed bottom-5 right-5 z-[100] space-y-3">
        <!-- Chatbot Window -->
        <div id="chatbot-window" class="hidden fixed bottom-24 right-5 z-50 w-[calc(100%-40px)] max-w-md h-[70vh] max-h-[500px] bg-white rounded-lg shadow-2xl flex flex-col transform origin-bottom-right">
            <!-- Header -->
            <header class="bg-indigo-600 text-white p-3 flex justify-between items-center rounded-t-lg flex-shrink-0">
                <div class="flex items-center gap-3">
                    <img src="https://i.postimg.cc/J4QX3W0Y/logo.png" alt="Logo" class="w-10 h-10 rounded-full border-2 border-indigo-300">
                    <div>
                        <h2 class="font-bold text-base" data-lang-ar="المساعد الذكي جيمي" data-lang-en="AI Assistant Jimmy">المساعد الذكي جيمي</h2>
                        <p class="text-xs text-indigo-200 flex items-center gap-1"><i class="fas fa-circle text-[8px]"></i> <span data-lang-ar="متصل الآن" data-lang-en="Online">متصل الآن</span></p>
                    </div>
                </div>
                <button id="close-chat-btn" class="text-indigo-200 hover:text-white text-3xl">&times;</button>
            </header>
            <!-- Messages -->
            <div id="chat-messages-popup" class="flex-1 p-4 overflow-y-auto bg-gray-50 flex flex-col gap-3"></div>
            <!-- Input -->
            <footer class="p-3 border-t bg-white rounded-b-lg flex-shrink-0">
                <form id="chat-form-popup" class="flex items-center gap-2">
                    <input type="text" id="message-input-popup" placeholder-ar="اسأل أي شيء..." placeholder-en="Ask anything..." class="w-full px-4 py-2 border rounded-full focus:ring-indigo-500 focus:border-indigo-500">
                    <button type="submit" class="bg-indigo-600 text-white rounded-full w-11 h-11 flex-shrink-0 flex items-center justify-center hover:bg-indigo-700 transition">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </footer>
        </div>

        <!-- Floating Buttons -->
        <button id="chat-toggle-btn" class="floating-btn bg-purple-600 w-16 h-16" title-ar="تحدث مع المساعد الذكي" title-en="Chat with AI Assistant">
            <i class="fas fa-robot text-2xl"></i>
        </button>
        <button id="scrollToTopBtn" class="floating-btn bg-indigo-600 w-14 h-14" title-ar="العودة للأعلى" title-en="Back to top">
            <i class="fas fa-arrow-up"></i>
        </button>
        <a href="https://wa.me/201022679250" target="_blank" rel="noopener noreferrer" id="whatsapp-button" class="floating-btn bg-green-500 w-14 h-14" title="تواصل عبر واتساب">
            <i class="fab fa-whatsapp text-2xl"></i>
        </a>
    </div>

    
    <script>
        // --- Generic AI Text Generation Function ---
        async function generateAiContent(prompt, resultElement, placeholderElement, loadingElement, lang, previousContent = '') {
            if (placeholderElement) placeholderElement.style.display = 'none';
            loadingElement.style.display = 'block';
            resultElement.innerHTML = '';

            // Add previous content to the prompt if it exists
            if (previousContent) {
                prompt += `\n\nالنص الحالي هو:\n"${previousContent}"\n\nيرجى تعديل هذا النص بناءً على الطلب الجديد.`;
            }

            try {
                const payload = { contents: [{ parts: [{ text: prompt }] }] };
                const apiKey = "AIzaSyAK3LA-F1e7u0dxCZkVKTzfSR0AdO2ZHCU"; // Will be injected by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
                
                const result = await response.json();
                
                if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                    let generatedText = result.candidates[0].content.parts[0].text.trim();
                    // Remove any introductory text that the model might add
                    generatedText = generatedText.replace(/^.*:\n\n/s, '');
                    generatedText = generatedText.replace(/\n/g, '<br>');
                    resultElement.innerHTML = generatedText;
                } else {
                    throw new Error('Invalid response structure from API.');
                }
            } catch (error) {
                console.error("Error generating AI content:", error);
                resultElement.innerText = lang === 'ar' ? 'عفواً، حدث خطأ. يرجى المحاولة مرة أخرى.' : 'Sorry, an error occurred. Please try again.';
            } finally {
                loadingElement.style.display = 'none';
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // --- Element Selectors ---
            const langSwitcher = document.getElementById('lang-switcher');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            const paymentToggle = document.getElementById('payment-toggle');
            const paymentDetails = document.getElementById('payment-details');
            const paymentChevron = document.getElementById('payment-chevron');
            const contactForm = document.getElementById('contact-form');
            
            // --- AI Tool Selectors ---
            const generateIdeasBtn = document.getElementById('generate-ideas-btn');
            const businessTypeInput = document.getElementById('business-type');
            const ideasResult = document.getElementById('ideas-result');
            const ideasPlaceholder = document.getElementById('ideas-placeholder');
            const loadingSpinner = document.getElementById('loading-spinner');
            const variationButtonsContainer = document.getElementById('variation-buttons');
            const variationButtons = document.querySelectorAll('.variation-btn');
            const listenBtn = document.getElementById('listen-btn');

            const generateKeywordsBtn = document.getElementById('generate-keywords-btn');
            const seoTopicInput = document.getElementById('seo-topic');
            const keywordsResult = document.getElementById('keywords-result');
            const keywordsPlaceholder = document.getElementById('keywords-placeholder');
            const seoLoadingSpinner = document.getElementById('seo-loading-spinner');

            const generateHeadlinesBtn = document.getElementById('generate-headlines-btn');
            const adTopicInput = document.getElementById('ad-topic');
            const headlinesResult = document.getElementById('headlines-result');
            const headlinesPlaceholder = document.getElementById('headlines-placeholder');
            const headlineLoadingSpinner = document.getElementById('headline-loading-spinner');

            // --- CHATBOT SELECTORS ---
            const chatToggleBtn = document.getElementById('chat-toggle-btn');
            const chatbotWindow = document.getElementById('chatbot-window');
            const closeChatBtn = document.getElementById('close-chat-btn');
            const chatFormPopup = document.getElementById('chat-form-popup');
            const messageInputPopup = document.getElementById('message-input-popup');
            const chatMessagesPopup = document.getElementById('chat-messages-popup');
            let conversationHistory = [];
            
            let currentLang = 'ar';

            // --- Language Switcher ---
            function updateLanguageContent() {
                const elements = document.querySelectorAll('[data-lang-ar], [data-lang-en]');
                elements.forEach(el => {
                    const text = el.getAttribute(`data-lang-${currentLang}`);
                    if (text) el.innerHTML = text;
                });
                
                const placeholders = document.querySelectorAll('[placeholder-ar], [placeholder-en]');
                placeholders.forEach(el => {
                    const text = el.getAttribute(`placeholder-${currentLang}`);
                    if (text) el.setAttribute('placeholder', text);
                });

                document.documentElement.lang = currentLang;
                document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
                langSwitcher.textContent = currentLang === 'ar' ? 'EN' : 'AR';
            }

            langSwitcher.addEventListener('click', () => {
                currentLang = currentLang === 'ar' ? 'en' : 'ar';
                updateLanguageContent();
            });

            // --- Mobile Menu ---
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // --- Scroll to Top Button ---
            window.onscroll = () => {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    scrollToTopBtn.style.display = "block";
                } else {
                    scrollToTopBtn.style.display = "none";
                }
            };
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // --- Payment Section Toggle ---
            paymentToggle.addEventListener('click', () => {
                const isHidden = paymentDetails.style.maxHeight === '0px';
                paymentDetails.style.maxHeight = isHidden ? `${paymentDetails.scrollHeight}px` : '0px';
                paymentChevron.classList.toggle('rotate-180', isHidden);
            });

            // --- Contact Form ---
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('message').value;
                const whatsappMessage = `مرحباً، أنا ${name} (${email}).\n\nالطلب:\n${message}`;
                const whatsappUrl = `https://wa.me/201022679250?text=${encodeURIComponent(whatsappMessage)}`;
                window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            });

            // --- KNOWLEDGE BASE AND PROMPTS ---
            const knowledgeBase = `
                EhabGM | Online Services - Profile
                - Location: Cairo, Egypt
                - Services: Graphic Design, Digital Marketing, Ad Management, Branding, Web/E-commerce Design.
                - Vision: Provide innovative creative solutions for the Egyptian and Gulf markets.
                - Core Values: Quality, Professionalism, Integration, Responsiveness (24/7 support), Creativity.
                
                Service Details:
                - Graphic Design: Logos, branding, social media posts (high-quality PNG), business cards, brochures, motion graphics. Tools: Adobe Photoshop, Illustrator, InDesign.
                - Digital Marketing: Ad campaigns (Facebook, Instagram, TikTok, Google), audience targeting, email/SMS marketing, SEO.
                - Web/E-commerce: Professional responsive websites, full e-commerce stores with payment gateways.
                - Branding: Brand building, social media content creation.
                - Extra Services: Marketing CV writing, consulting.
                
                Price List (EGP):
                - Basic Logo: 150-300
                - Pro Logo: 400-700
                - Business Card: 150-300
                - Social Media Banner: 100-250
                - Print Poster: 250-500
                - Social Media Package (10 designs): 800-1200
                - Menu/Catalog: Starts at 500
                - Pro Story (Insta/FB): 100-200
                - Facebook/YouTube Cover: 150-250
                - Simple Motion Graphic (15-30s): Starts at 800
                
                Contact & Links:
                - WhatsApp: +201022679250
                - Main Site: ehabgm.online
                - Portfolio: ehabgm.mystrikingly.com
                - Store: ehab.shop
            `;

            const postGeneratorPrompt = (topic) => `
                Based on the following knowledge base:
                ${knowledgeBase}

                Act as a world-class social media manager. Your task is to generate a complete, ready-to-paste social media post for the following topic: "${topic}".

                **Instructions (Strictly Follow):**
                1.  **Output ONLY the post content.** Do not include any explanations, introductions, or titles like "Here is the post:".
                2.  **Structure:**
                    * **Catchy Headline:** Start with a compelling question or statement with a relevant emoji 🚀.
                    * **Body:** Briefly explain the service/offer, focusing on benefits.
                    * **Features:** Use a bulleted list (with emojis like ✅ or ✨) to highlight 3-4 key features.
                    * **Call to Action (CTA):** End with a clear, strong CTA.
                    * **Hashtags:** Include 5 relevant, popular hashtags.
                3.  **Tone:** Professional, friendly, and persuasive. Use emojis naturally.
            `;

            const seoGeneratorPrompt = (topic) => `
                Based on the following knowledge base:
                ${knowledgeBase}

                Act as a top-tier SEO expert. Your task is to generate a structured list of keywords for the following topic: "${topic}".

                **Instructions (Strictly Follow):**
                1.  **Output ONLY the keyword list.** Do not include any explanations or introductions.
                2.  **Structure the output with these exact headings:**
                    * **كلمات مفتاحية أساسية 🎯**
                    * **كلمات مفتاحية طويلة 🔍**
                    * **كلمات مفتاحية محلية (مصر) 🇪🇬**
                    * **كلمات على شكل أسئلة ❓**
                3.  Provide 3-5 relevant keywords under each category. Use emojis next to the headings as shown.
            `;

            const headlineGeneratorPrompt = (topic) => `
                Based on the following knowledge base:
                ${knowledgeBase}

                Act as an expert copywriter. Your task is to generate 5 catchy and persuasive ad headlines for the following product/service: "${topic}".

                **Instructions (Strictly Follow):**
                1.  **Output ONLY a numbered list of the 5 headlines.** Do not include any explanations or introductions.
                2.  **Style:** Make them short, direct, and use different psychological angles (e.g., benefit-driven, curiosity, scarcity, question).
                3.  Use emojis where appropriate to increase engagement.
            `;

            // --- AI Tool: Social Media Post Generator ---
            generateIdeasBtn.addEventListener('click', () => {
                const topic = businessTypeInput.value;
                if (!topic) return;
                const prompt = postGeneratorPrompt(topic);
                generateAiContent(prompt, ideasResult, ideasPlaceholder, loadingSpinner, currentLang);
                variationButtonsContainer.classList.remove('hidden');
            });
            
            // --- AI Tool: Post Variations ---
            variationButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const style = button.dataset.style;
                    const currentText = ideasResult.innerText;
                    if (!currentText) return;
                    const prompt = `
                        أعد صياغة النص التالي ليكون بأسلوب "${style}". يجب أن يكون الناتج هو النص المعاد صياغته فقط.
                        النص الأصلي: "${currentText}"
                    `;
                    generateAiContent(prompt, ideasResult, null, loadingSpinner, currentLang, currentText);
                });
            });

            // --- AI Tool: SEO Keyword Generator ---
            generateKeywordsBtn.addEventListener('click', () => {
                const topic = seoTopicInput.value;
                if (!topic) return;
                const prompt = seoGeneratorPrompt(topic);
                generateAiContent(prompt, keywordsResult, keywordsPlaceholder, seoLoadingSpinner, currentLang);
            });

            // --- AI Tool: Ad Headline Generator ---
            generateHeadlinesBtn.addEventListener('click', () => {
                const topic = adTopicInput.value;
                if (!topic) return;
                const prompt = headlineGeneratorPrompt(topic);
                generateAiContent(prompt, headlinesResult, headlinesPlaceholder, headlineLoadingSpinner, currentLang);
            });

            // --- CHATBOT LOGIC ---
            const systemPrompt = `
                You are "Jimmy," the official AI assistant for Ehab GM Online Services. You are an expert in graphic design and digital marketing. Your entire knowledge base is provided below.
                
                **Core Instructions:**
                1.  **Identity:** You are "Jimmy." Always maintain this persona.
                2.  **Tone:** Be extremely friendly, professional, and helpful. Use a natural Egyptian Arabic dialect. Use emojis to make the conversation feel warm and personal.
                3.  **Goal:** Help users understand services, prices, and processes. Make it easy and enjoyable for them to get the information they need.
                4.  **Knowledge:** Base ALL your answers on the knowledge base provided. Do not invent services or prices.
                5.  **Structure:** When providing lists (like services or prices), use bullet points (e.g., with 🎨 or 📢) to make the information clear and easy to read.
                6.  **Escalation:** Only transfer the user to "Ehab" if they explicitly ask for him or express serious dissatisfaction.
                
                --- KNOWLEDGE BASE ---
                ${knowledgeBase}
                --- END KNOWLEDGE BASE ---

                **Example Interaction:**
                User: "بكام تصميم اللوجو؟"
                Your response: "أهلاً بيك! تصميم اللوجو الاحترافي عندنا بيبدأ من 400 جنيه وبيكون تصميم مميز يعبر عنك تمامًا. ✨ لو حابب نبدأ، قولّي بس! 😉"
            `;

            function toggleChatbot() {
                chatbotWindow.classList.toggle('hidden');
                if (!chatbotWindow.classList.contains('hidden') && conversationHistory.length === 0) {
                    const welcomeMessage = "أهلاً بيك! 🚀 معاك جيمي، مساعدك الذكي من EhabGM. إزاي أقدر أساعدك النهاردة؟ (تصميم، إعلان، أسعار...)"
                    appendMessageToPopup(welcomeMessage, 'bot');
                    conversationHistory.push({ role: "model", parts: [{ text: welcomeMessage }] });
                }
            }

            chatToggleBtn.addEventListener('click', toggleChatbot);
            closeChatBtn.addEventListener('click', toggleChatbot);

            function appendMessageToPopup(text, sender) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', `${sender}-message`);
                messageElement.innerHTML = text.replace(/\n/g, '<br>'); // Support line breaks
                chatMessagesPopup.appendChild(messageElement);
                chatMessagesPopup.scrollTop = chatMessagesPopup.scrollHeight;
            }

            function showTypingIndicatorInPopup() {
                const typingElement = document.createElement('div');
                typingElement.id = 'typing-indicator-popup';
                typingElement.classList.add('message', 'typing-indicator');
                typingElement.innerHTML = `<span></span><span></span><span></span>`;
                chatMessagesPopup.appendChild(typingElement);
                chatMessagesPopup.scrollTop = chatMessagesPopup.scrollHeight;
            }

            function removeTypingIndicatorFromPopup() {
                const typingElement = document.getElementById('typing-indicator-popup');
                if (typingElement) typingElement.remove();
            }

            async function getBotResponse(userMessage) {
                showTypingIndicatorInPopup();
                
                const contextualPrompt = [
                    { role: "user", parts: [{ text: systemPrompt }] },
                    { role: "model", parts: [{ text: "تمام، أنا جيمي وجاهز للمساعدة باللهجة المصرية." }] },
                    ...conversationHistory,
                    { role: "user", parts: [{ text: userMessage }] }
                ];

                try {
                    const payload = { contents: contextualPrompt };
                    const apiKey = "AIzaSyAK3LA-F1e7u0dxCZkVKTzfSR0AdO2ZHCU"; // Will be injected
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
                    
                    const result = await response.json();
                    removeTypingIndicatorFromPopup();

                    if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                        const botResponse = result.candidates[0].content.parts[0].text.trim();
                        appendMessageToPopup(botResponse, 'bot');
                        conversationHistory.push({ role: "user", parts: [{ text: userMessage }] });
                        conversationHistory.push({ role: "model", parts: [{ text: botResponse }] });
                    } else {
                        throw new Error('Invalid response structure.');
                    }
                } catch (error) {
                    console.error("Error getting bot response:", error);
                    removeTypingIndicatorFromPopup();
                    appendMessageToPopup('عفواً، حدث خطأ ما. يرجى المحاولة مرة أخرى.', 'bot');
                }
            }

            chatFormPopup.addEventListener('submit', (e) => {
                e.preventDefault();
                const userMessage = messageInputPopup.value.trim();
                if (userMessage) {
                    appendMessageToPopup(userMessage, 'user');
                    messageInputPopup.value = '';
                    getBotResponse(userMessage);
                }
            });

            // --- Scroll Animation Logic ---
            const animatedSections = document.querySelectorAll('.animated-section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            animatedSections.forEach(section => {
                observer.observe(section);
            });

            // Initialize page language
            updateLanguageContent();
        });
    </script>
</body>
</html>
